<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleccionar Talla y Pedido | Mis Fragancias Jhon Arias</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        // Configuraci贸n de Tailwind (Colores y Animaciones)
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0f172a',
                        'accent-gold': '#d9a94e',
                        'secondary-light': '#f3f4f6',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    },
                    animation: {
                        'fadeIn': 'fadeIn 0.8s ease-out forwards',
                    }
                }
            }
        }

        // =========================================================
        // 1. DATASET COMPLETO Y CONFIGURACIN (Mantenido)
        // =========================================================
        const perfumeData = {
            'Carolina Herrera': [
                { nombre: 'Carolina Herrera dama' }, { nombre: 'CH dama' }, { nombre: '212 Sexy dama' },
                { nombre: '212 VIP dama' }, { nombre: '212 VIP Rose dama' }, { nombre: '212 VIP Rose Red dama' },
                { nombre: '212 VIP Wild Party dama' }, { nombre: 'Central Park dama' }, { nombre: 'Good Girl dama' },
                { nombre: 'Prive dama' }, { nombre: 'Sublime dama' }, { nombre: '212 Heroes for Her dama' },
                { nombre: '212 NYC Mujer' }, { nombre: 'Very Good Girl Glam dama' }, { nombre: 'Good Girl Legere dama' },
                { nombre: 'Good Girl Blush dama' }, { nombre: 'Good Girl Supreme dama' }, { nombre: 'CH Queens dama' },
                { nombre: 'CH Men' }, { nombre: ' 212 Men nyc' }, { nombre: '212 VIP Men' }, { nombre: '212 VIP men' },
                { nombre: '212 VIP Black OWM men' }, { nombre: 'VIP Black Red men' }, { nombre: 'Bad Boy men' },
                { nombre: 'Central Park men' }, { nombre: 'Prive Men' }, { nombre: '212 Heros men' },
                { nombre: 'Forever Young men' }, { nombre: 'CH Men' }, { nombre: '212 Sexy Men' },
                { nombre: '212 Men Aqua' }
            ],
            'Paco Rabanne': [
                { nombre: 'Black XS dama' }, { nombre: 'Lady Million Royal dama' }, { nombre: 'Lady Million dama' },
                { nombre: 'Olympea dama' }, { nombre: 'Olympea Aqua dama' }, { nombre: 'Fame dama' },
                { nombre: '1 Million Men' }, { nombre: 'Invictus Men' }, { nombre: 'One Million Royal Men' },
                { nombre: 'Invictus Aqua Men' }, { nombre: 'Invictus Intense Men' }, { nombre: 'Invictus Legend Men' },
                { nombre: 'One Million Luky Men' }, { nombre: 'Phantom Men' }, { nombre: 'Pure XS Men' },
                { nombre: 'Invictus Victori Men' }, { nombre: 'Black XS Aphrodisiaque Men' }, { nombre: 'Black XS L Exces Men' },
                { nombre: 'One Million Golden Oud Men' }, { nombre: 'One Million Prive Men' }, { nombre: 'Invictus Parfum Men' },
                { nombre: 'One Million Elixir Men' }, { nombre: 'Invictus Platinum Men' }
            ],
            'Lataffa': [
                { nombre: 'Yara dama' }, { nombre: 'Bade\'e Al Oud Sublime dama' }, { nombre: 'Yara Moi dama' }, { nombre: 'Mayar dama' },
                { nombre: 'Yara Tous dama' }, { nombre: 'Haya dama' }, { nombre: 'Yara Candy dama' }, { nombre: 'Noble Blush dama' },
                { nombre: 'Her Confession dama' }, { nombre: 'Asad Men' }, { nombre: 'Fakar Blak Men' }, { nombre: 'Asad Zanzibar Men' },
                { nombre: 'Asad Bourbon Men' }, { nombre: 'His Confession Men' }, { nombre: 'Khamrah Dukhan Men' },
                { nombre: 'Bade\'e Al Oud Amethyst Unisex' }, { nombre: 'Bade\'e Al Oud Oud For Glory Unisex' }, { nombre: 'Khamrah Unisex' },
                { nombre: 'Shaheen Gold Unisex' }, { nombre: 'Honor y Glory Unisex' }, { nombre: 'Nebras Unisex' },
                { nombre: 'Ajwad Unisex' }, { nombre: 'Khamrah Qahwa Unisex' }, { nombre: 'Emeer Unisex' }, { nombre: 'Affection Unisex' }
            ],
            'Hugo Boss': [
                { nombre: 'Hugo Woman dama' }, { nombre: 'Hugo XX dama' }, { nombre: 'Boss Bottled Night Men' },
                { nombre: 'Boss Dark Blue Men' }, { nombre: 'Boss Energise Men' }, { nombre: 'Boss Ice Men' },
                { nombre: 'In Motion Men' }, { nombre: 'Orange Men' }, { nombre: 'Unlimited Men' },
                { nombre: 'Boss Red Men' }, { nombre: 'Hugo XY Men' }, { nombre: 'Hugo Men' },
                { nombre: 'Boss Bottled Tonic Men' }, { nombre: 'Just Diferent Men' }, { nombre: 'Boss Element Men' },
                { nombre: 'Elixir Men' }
            ],
            'Lacoste': [
                { nombre: 'Magnetic dama' }, { nombre: 'Red Lacoste Men' }, { nombre: 'Lacoste Natural dama' },
                { nombre: 'Lacoste Sparkling dama' }, { nombre: 'Touch of Pink dama' }, { nombre: 'Eau de Lacoste' },
                { nombre: 'L.12.12' }, { nombre: 'Lacoste Blanca Men' }, { nombre: 'Lacoste Essential Men' },
                { nombre: 'Lacoste Noir Negra Men' }, { nombre: 'Lacoste Red Men' }, { nombre: 'Lacoste Rouge Men' },
                { nombre: 'Lacoste Bleu Men' }, { nombre: 'Lacoste Amarilla Men' }, { nombre: 'Lacoste Men' }
            ],
            'Yanbal': [
                { nombre: 'Gaia dama' }, { nombre: 'Osadia dama' }, { nombre: 'Ccori Ros茅 dama' },
                { nombre: 'Ccori dama' }, { nombre: 'Ohm Black men' }, { nombre: 'Celos dama' },
                { nombre: 'Cielo dama' }, { nombre: 'Temptation Dama' }, { nombre: 'Temptation Men' },
                { nombre: 'Osadia Men' }, { nombre: 'Solo Men' }, { nombre: 'Arom Men' },
                { nombre: 'Adrenaline HM Men' }, { nombre: '43n Parallel Men' }
            ],
            'Victoria Secret': [
                { nombre: 'Coconut Passion dama' }, { nombre: 'Eau So Sexy dama' }, { nombre: 'Mango dama' },
                { nombre: 'Vainilla Lace dama' }, { nombre: 'Sandia dama' }, { nombre: 'Strawberry Champagne dama' },
                { nombre: 'Bombshell dama' }, { nombre: 'Pure Seduction dama' }, { nombre: 'Velvet Petals dama' },
                { nombre: 'Scandalous dama' }, { nombre: 'Pera dama' }, { nombre: 'Aqua Kiss dama' }
            ],
            'Jean Paul Gaultier': [
                { nombre: 'Jean Paul Gaultier dama' }, { nombre: 'Scandal dama' }, { nombre: 'Le Male Men' },
                { nombre: 'Scandal Men' }, { nombre: 'Ultra Male Men' }, { nombre: 'Le Beau Men' },
                { nombre: 'Le Male Elixir Men' }, { nombre: 'Le Male Le Parfum Men' }, { nombre: 'Beau Paradise Garden Men' }
            ],
            'Montale': [
                { nombre: 'Roses Musk dama' }, { nombre: 'Crazy In Love dama' }, { nombre: 'Intense Cafe' },
                { nombre: 'Intense Caf茅 Unisex' }, { nombre: 'Starry Night Unisex' }, { nombre: 'Arabians Tonka Unisex' },
                { nombre: 'Chocolate Greedy Unisex' }, { nombre: 'Day Dream Unisex' }
            ],
            'Ariana Grande': [
                { nombre: 'cloud dama' }, { nombre: 'thank u next dama' }, { nombre: 'ari dama' },
                { nombre: 'cloud oink dama' }, { nombre: 'sweet like candy dama' }, { nombre: 'mod vanilla dama' },
                { nombre: 'thank u nex 2.0 dama' }, { nombre: 'rem dama' }
            ],
            'Versace': [
                { nombre: 'Eros Dama' }, { nombre: 'Bright Crystal dama' }, { nombre: 'Yellow Diamond dama' },
                { nombre: 'Bright Crystal Parfum dama' }, { nombre: 'Eros Flame Men' }, { nombre: 'Eros Men' },
                { nombre: 'Eau Fraiche Men' }, { nombre: 'Dilan Blue Men' }, { nombre: 'Versace Pour Homme Men' },
                { nombre: 'Eros Energy Men' }
            ],
            'Calvin Klein': [
                { nombre: 'ck in 2u dama' }, { nombre: 'eternity dama' }, { nombre: 'euphoria dama' },
                { nombre: 'escape dama' }, { nombre: 'eternity men' }, { nombre: 'scape men' },
                { nombre: 'ck in2u men' }, { nombre: 'ck one unisex' }
            ],
            'Ilmin': [
                { nombre: 'Il Roso dama' }, { nombre: 'Il Orgasme Unisex' }, { nombre: 'Ilmin Tabac' },
                { nombre: 'Il Femme Unisex' }, { nombre: 'Il Kakuno Unisex' }, { nombre: 'Il Ego Unisex' },
                { nombre: 'Il Dolce Unisex' }, { nombre: 'Il Erotique Unisex' }
            ],
            'Moshino': [
                { nombre: 'Toy 2 dama' }, { nombre: 'Toy 2 Bubble Gum dama' }, { nombre: 'Funny Moschino dama' },
                { nombre: 'Gold Fresh Couture dama' }, { nombre: 'I Love I Love dama' }, { nombre: 'Toy 2 Pearl dama' },
                { nombre: 'Toy Boy Men' }
            ],
            'Armaf': [
                { nombre: 'club de nuit dama' }, { nombre: 'island bliss dama' }, { nombre: 'yum yum dama' },
                { nombre: 'odyssey cande dama' }, { nombre: 'cluit de nuit men' }, { nombre: 'mandarin sky men' }
            ],
            'Giorgio Armani': [
                { nombre: 'Acqua di Gioia dama' }, { nombre: 'Si dama' }, { nombre: 'Acqua di Gio Men' },
                { nombre: 'Code Men' }, { nombre: 'Acqua di Gio Profumo' }, { nombre: 'Stronger With You Men' }
            ],
            'Chanel': [
                { nombre: 'Chance dama' }, { nombre: 'Coco Mademoiselle dama' }, { nombre: 'Chanel No 5 dama' },
                { nombre: 'Bleu de Chanel' }, { nombre: 'Allure Sport' }
            ],
            'Escada': [
                { nombre: 'Moon Sparkle dama' }, { nombre: 'Agua del Sol dama' }, { nombre: 'Sorbetto Rosso dama' },
                { nombre: 'Rock in Rio dama' }, { nombre: 'Taj Sunset dama' }
            ],
            'Afnan': [
                { nombre: '9 pm pour dama' }, { nombre: '9 pm men' }, { nombre: '9 am pour dama' },
                { nombre: '9 am unisex' }, { nombre: '9 pm rebel unisex' }
            ],
            'Antonio Banderas': [
                { nombre: 'blue seduction dama' },
                { nombre: 'blue seduction men' },
                { nombre: 'king of sedution men' },
                { nombre: 'the goldensecret men' }
            ],
            'Dolce & Gabbana': [
                { nombre: 'Imperatrice dama' },
                { nombre: 'Light Blue dama' },
                { nombre: 'The One dama' },
                { nombre: 'Pineapple dama' },
                { nombre: 'Q Dolce Gabbana dama' },
                { nombre: 'Devotion dama' },
                { nombre: 'Light Blue Men' },
                { nombre: 'K Men' }
            ],
            'Christian Dior': [
                { nombre: 'Jadore dama' },
                { nombre: 'Miss Dior Blooming Bouquet dama' },
                { nombre: 'Poison Girl dama' },
                { nombre: 'Miss Dior Parfum dama' },
                { nombre: 'Dior Sauvage men' },
                { nombre: 'Fahrenheit men' },
                { nombre: 'Sauvage Elixir men' }
            ],
            'Diesel': [
                { nombre: 'Only The Brave' },
                { nombre: 'Bad Men' },
                { nombre: 'Only The Brave Men' },
                { nombre: 'Espirit Brave Men' },
                { nombre: 'Pluss Men' },
                { nombre: 'Fuel For Life' }
            ],
            'Orientica': [
                { nombre: 'Amber Rouge Unisex' },
                { nombre: 'Imperial Gold Men' },
                { nombre: 'Royal Amber Unisex' },
                { nombre: 'Oud Saffron Unisex' },
                { nombre: 'Royal Bleu Unisex' },
                { nombre: 'Azure Fantasy Unisex' },
                { nombre: 'Velvet Gold Unisex' }
            ],
            'Ralph Lauren': [
                { nombre: 'Ralph Lauren dama' },
                { nombre: 'Polo Blue Men' },
                { nombre: 'Polo Red Men' },
                { nombre: 'Polo Ultra Blue Men' }
            ],
            'Al Haramain': [
                { nombre: 'Amber Oud (Unisex)' },
                { nombre: 'Amber Oud Gold (Unisex)' },
                { nombre: 'Amber Rouge (Unisex)' },
                { nombre: 'Amber Oud Blue Edition (Unisex)' }
            ],
            'Bahara': [
                { nombre: 'bharara niche dama' },
                { nombre: 'bharara rose dama' },
                { nombre: 'onice men' },
                { nombre: 'king men' }
            ],
            'Ahli Fragrances': [
                { nombre: 'Ahli Karpos (dama)' },
                { nombre: 'Ahli Vega (dama)' },
                { nombre: 'Ahli Corvus (dama)' }
            ],
            'Bath & Bois': [
                { nombre: 'velbet sugar dama' },
                { nombre: 'pink chiffon dama' },
                { nombre: 'loquito por ti dama' }
            ],
            'Parfumes de Marly': [
                { nombre: 'Delina dama' },
                { nombre: 'Pegasus Men' },
                { nombre: 'Kalan Unisex' }
            ],
            'Valentino': [
                { nombre: 'Born in Roma Yellow dama' },
                { nombre: 'Valentino Uomo Men' },
                { nombre: 'Born in Roma Men' }
            ],
            'Animale': [
                { nombre: 'animale dama' },
                { nombre: 'animale men' }
            ],
            'Esika': [
                { nombre: 'winwer sport' },
                { nombre: 'dorsay' }
            ],
            'Sofia Vergara': [
                { nombre: 'Love dama' },
                { nombre: 'Sof铆a Vergara dama' }
            ],
            'Tommy Hilfiger': [
                { nombre: 'tomy girl dama' },
                { nombre: 'Tommy Boy Men' }
            ],
            'Benetton': [
                { nombre: 'tribu dama' }
            ],
            'Burberry': [
                { nombre: 'burberry dama' }
            ],
            'Giardini Di Toscana': [
                { nombre: 'Bianco Latte Unisex' }
            ],
            'Agatha Ruiz de la Prada': [
                { nombre: 'gotas dama' }
            ]
        };
        // --- FIN DEL DATASET ---

        // Precios definidos por Talla 
        const sizePrices = {
            '30 mililitros': 25000,
            '50 mililitros': 40000,
            '100 mililitros': 75000,
        };
        
        // Funci贸n de utilidad para slugs
        const createSlug = (text) => {
            return text
                .toString().toLowerCase()
                .replace(/\s+/g, '-')
                .replace(/[^\w\-]+/g, '')
                .replace(/\-\-+/g, '-')
                .replace(/^-+/, '')
                .replace(/-+$/, '');
        };
        
        // Transformaci贸n de datos
        const BRANDS_ARRAY = Object.keys(perfumeData).map(brandName => {
            const brandSlug = createSlug(brandName);
            
            const perfumesWithId = perfumeData[brandName].map(perfume => ({
                id: createSlug(perfume.nombre),
                name: perfume.nombre,
                description: `Una fragancia exquisita de ${brandName}.`
            }));
            
            return {
                name: brandName,
                slug: brandSlug,
                perfumes: perfumesWithId
            };
        });

        // =========================================================
        // 2. LGICA DE LA PGINA (Refactorizada para mejor manejo de eventos)
        // =========================================================

        let selectedPerfume = null;
        let selectedSize = '30 mililitros'; // Talla por defecto
        let selectedPayment = 'Nequi o Daviplata'; // Valor por defecto (Cambiado a uno m谩s espec铆fico)

        // Funci贸n principal que se ejecuta al cargar la p谩gina
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const brandSlug = params.get('brand');
            const perfumeId = params.get('perfume');
            
            const brandInfo = BRANDS_ARRAY.find(b => b.slug === brandSlug);

            if (brandInfo) {
                selectedPerfume = brandInfo.perfumes.find(p => p.id === perfumeId);
            }

            const perfumeTitle = document.getElementById('perfume-title');
            const perfumeDetail = document.getElementById('perfume-detail');

            if (!selectedPerfume) {
                perfumeTitle.textContent = 'Error: Perfume no encontrado';
                perfumeDetail.innerHTML = '<p class="text-red-400">Por favor, regrese al cat谩logo y seleccione un perfume v谩lido.</p>';
                document.getElementById('order-form').style.display = 'none';
                return;
            }

            // Actualizar la interfaz con los detalles del perfume
            perfumeTitle.textContent = selectedPerfume.name;
            perfumeDetail.textContent = brandInfo.name;
            
            // Renderizar las opciones de tama帽o
            renderSizeOptions();
            
            // Escuchar cambios en el formulario para actualizar el total y el bot贸n
            document.getElementById('order-form').addEventListener('change', updateOrderSummary);
            
            // Inicializar el resumen del pedido y el bot贸n final
            updateOrderSummary();
            
            // Inicializar el estilo de los botones de pago al cargar
            updatePaymentSelectionStyle();
        });


        /**
         * Renderiza las opciones de talla y sus precios
         */
        function renderSizeOptions() {
            const sizeContainer = document.getElementById('size-options');
            sizeContainer.innerHTML = ''; // Limpiar
            
            Object.keys(sizePrices).forEach(size => {
                const price = sizePrices[size];
                const isChecked = size === selectedSize;
                
                const card = document.createElement('label');
                card.className = `
                    cursor-pointer border-2 p-4 rounded-lg transition duration-200 
                    ${isChecked ? 'border-accent-gold bg-gray-800 shadow-md shadow-accent-gold/20' : 'border-gray-700 hover:border-accent-gold/50 bg-gray-900/50'}
                    flex justify-between items-center w-full
                `;
                card.innerHTML = `
                    <input type="radio" name="size" value="${size}" ${isChecked ? 'checked' : ''} class="hidden">
                    <div>
                        <span class="text-xl font-bold">${size}</span>
                    </div>
                    <span class="text-2xl font-extrabold text-accent-gold">$${price.toLocaleString('es-CO')}</span>
                `;
                card.querySelector('input').addEventListener('change', (e) => {
                    selectedSize = e.target.value;
                    renderSizeOptions(); // Re-renderizar para actualizar el estilo visual
                    updateOrderSummary(); // Llama a la actualizaci贸n del bot贸n
                });
                sizeContainer.appendChild(card);
            });
        }
        
        /**
         * Actualiza el estilo visual del m茅todo de pago seleccionado
         */
        function updatePaymentSelectionStyle() {
            const paymentRadios = document.querySelectorAll('input[name="payment"]');
            
            paymentRadios.forEach(radio => {
                const parentLabel = radio.closest('label');
                if (radio.checked) {
                    parentLabel.classList.remove('border-gray-700', 'hover:border-accent-gold/50');
                    parentLabel.classList.add('border-accent-gold', 'bg-gray-800', 'shadow-md', 'shadow-accent-gold/20');
                    selectedPayment = radio.value;
                } else {
                    parentLabel.classList.remove('border-accent-gold', 'bg-gray-800', 'shadow-md', 'shadow-accent-gold/20');
                    parentLabel.classList.add('border-gray-700', 'hover:border-accent-gold/50', 'bg-gray-900/50');
                }
            });
        }


        /**
         * Actualiza el total, el m茅todo de pago y el bot贸n final.
         */
        function updateOrderSummary() {
            const totalElement = document.getElementById('order-total');
            const paymentRadios = document.querySelectorAll('input[name="payment"]');
            
            // 1. Obtener el m茅todo de pago seleccionado y actualizar el estilo
            updatePaymentSelectionStyle();

            // 2. Calcular el total
            const total = sizePrices[selectedSize];
            totalElement.textContent = `$${total.toLocaleString('es-CO')}`;
            
            // 3. Actualizar el bot贸n de redirecci贸n (NUEVO PASO)
            updateFinalButton(total);
        }

        /**
         * Actualiza el evento click del bot贸n final de confirmaci贸n, 
         * creando la URL de redirecci贸n a fin.html.
         */
        function updateFinalButton(total) {
            const confirmButton = document.getElementById('confirmation-button'); 
            
            const brandFound = BRANDS_ARRAY.find(b => b.perfumes.some(p => p.id === selectedPerfume.id));
            const bName = brandFound ? brandFound.name : 'Desconocida';
            const pName = selectedPerfume.name; 
            
            // 1. Construir la URL de la p谩gina de confirmaci贸n con los datos del pedido
            const confirmUrl = `fin.html?` + 
                `brandName=${encodeURIComponent(bName)}&` +
                `perfumeName=${encodeURIComponent(pName)}&` +
                `size=${encodeURIComponent(selectedSize)}&` +
                `payment=${encodeURIComponent(selectedPayment)}&` +
                `total=${total}`;

            // 2. Asignar la redirecci贸n al evento click del bot贸n
            confirmButton.onclick = () => {
                window.location.href = confirmUrl;
            };
        }
    </script>
</head>
<body class="bg-primary-dark text-secondary-light min-h-screen animate-fadeIn opacity-0">

    <div class="container mx-auto px-4 py-8 md:py-12 max-w-2xl">

        <header class="mb-10 pb-6 border-b border-gray-700/50">
    <div class="flex justify-start mb-6">
        <a href="shop.html" 
            class="inline-block px-6 py-2 text-sm font-bold rounded-full
                   bg-accent-gold text-primary-dark 
                   hover:bg-[#c99a45] transition duration-300 shadow-xl shadow-accent-gold/20"
        >
            <span class="mr-1"></span> regresar a la tienda
        </a>
    </div>

    <div class="text-center space-y-1">
        <h1 class="text-xl font-blue text-blue-400">Tu pedido es:</h1>
        <h1 class="text-xl font-light text-gray-400">perfume</h1>
        <p class="text-2xl md:text-3xl font-medium text-accent-gold pt-1" id="perfume-title">
        </p>
         <h1 class="text-xl font-light text-red-400">de la marca </h1>
        <p class="text-xl font-medium text-accent-gold pt-1" id="perfume-detail">
          
        </p>
    </div>
</header>

        <form id="order-form" class="space-y-10 bg-gray-900/60 p-6 md:p-10 rounded-2xl shadow-2xl shadow-primary-dark/50 border border-gray-800">
            
            <div class="space-y-4">
                <h3 class="text-2xl font-bold mb-4 text-accent-gold border-b border-gray-700 pb-2 flex items-center">
                    <span class="mr-2 text-3xl"></span> 1. Selecciona el Tama帽o
                </h3>
                <div id="size-options" class="space-y-4">
                    </div>
            </div>

            <div class="space-y-4">
                <h3 class="text-2xl font-bold mb-4 text-accent-gold border-b border-gray-700 pb-2 flex items-center">
                    <span class="mr-2 text-3xl"></span> 2. Elige el M茅todo de Pago
                </h3>
                <div class="space-y-4">
                    
                    <label class="payment-option cursor-pointer border-2 p-4 rounded-lg transition duration-300 flex justify-between items-center bg-gray-900/50">
                        <input type="radio" name="payment" value="Nequi o Daviplata" checked class="hidden">
                        <div>
                            <span class="text-xl font-medium">Nequi o Daviplata</span>
                            <p class="text-xl font-medium">N煤mero para pagos:  313 8094678 </p>
                        </div>
                        <span class="text-4xl text-yellow-400"></span>
                    </label>

                    <label class="payment-option cursor-pointer border-2 p-4 rounded-lg transition duration-300 flex justify-between items-center bg-gray-900/50">
                        <input type="radio" name="payment" value="Cr茅dito (Pagar Despu茅s)" class="hidden">
                        <div>
                            <span class="text-xl font-medium">Cr茅dito (costo adicional)</span>
                            <p class="text-sm text-gray-400 mt-1">costo adicional.</p>
                        </div>
                        <span class="text-4xl text-yellow-400"></span>
                    </label>

                    <label class="payment-option cursor-pointer border-2 p-4 rounded-lg transition duration-300 flex justify-between items-center bg-gray-900/50">
                        <input type="radio" name="payment" value="Efectivo (Contraentrega)" class="hidden">
                        <div>
                            <span class="text-xl font-medium">Efectivo (Contraentrega)</span>
                            <p class="text-sm text-gray-400 mt-1">Pagas al recibir tu pedido.</p>
                        </div>
                        <span class="text-4xl text-yellow-400"></span>
                    </label>

                </div>
            </div>

            <div class="border-t pt-6 border-gray-700/50">
                <h3 class="text-2xl font-bold mb-4 text-accent-gold flex items-center">
                    <span class="mr-2 text-3xl"></span> Total a Pagar
                </h3>
                <div class="flex justify-between items-center text-2xl font-light py-2 px-4 bg-gray-800 rounded-lg">
                    <span>Precio Final:</span>
                    <span id="order-total" class="text-accent-gold font-extrabold text-4xl">--</span>
                </div>
            </div>

            <button id="confirmation-button" type="button"
                class="
                    w-full flex items-center justify-center text-center mt-8 px-8 py-4 text-2xl font-extrabold 
                    rounded-xl transition duration-500 ease-in-out 
                    transform hover:scale-[1.02] 
                    
                    /* Estilo Elegante: Fondo y Texto (Igual que antes) */
                    bg-accent-gold text-primary-dark 
                    bg-gradient-to-r from-accent-gold to-[#f0c26c] 
                    
                    /* Sombra y Borde */
                    shadow-2xl shadow-accent-gold/40 border border-[#b88c3a]
                    
                    /* Efecto Hover */
                    hover:shadow-accent-gold/60 hover:from-[#f0c26c] hover:to-accent-gold 
                    
                    /* Accesibilidad/Focus */
                    focus:outline-none focus:ring-4 focus:ring-accent-gold/50
                "
            >
                <span class="mr-3 text-3xl"></span> Finalizar Compra y Ver Factura
            </button>
            
            <p class="text-center text-xs text-gray-500 mt-4">
                El total mostrado **NO** incluye posibles recargos por pago a cr茅dito o costos de env铆o. Detalles finales en la factura.
            </p>

        </form>

    </div>
</body>
</html>